// tag::use-plugin[]
apply plugin: 'groovy'

// tag::gradle-api-dependencies[]
// tag::local-groovy-dependencies[]
dependencies {
// end::local-groovy-dependencies[]
    compile gradleApi()
// end::gradle-api-dependencies[]
// tag::local-groovy-dependencies[]
    compile localGroovy()
// tag::gradle-api-dependencies[]
}
// end::gradle-api-dependencies[]
// end::local-groovy-dependencies[]
// end::use-plugin[]

apply plugin: 'maven'

repositories {
    mavenCentral()
}

dependencies {
    testCompile 'junit:junit:4.12'
}

group = 'org.gradle'
version = '1.0-SNAPSHOT'

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: uri("$buildDir/repo"))
        }
    }
}

task cleanCustomPluginFromMavenLocal(type: Delete) {
    delete file("${System.env.HOME}/.m2/repository/org/gradle/customPlugin/")
}
