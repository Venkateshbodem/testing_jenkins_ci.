// Copyright (C) 2023 Gradle, Inc.
//
// Licensed under the Creative Commons Attribution-Noncommercial-ShareAlike 4.0 International License.;
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      https://creativecommons.org/licenses/by-nc-sa/4.0/
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

[[settings_file_basics]]
= Settings File Basics

The settings file is the *entry point* of every Gradle project.

image::gradle-basic-3.png[]

The _settings file_ has two primary purposes:

1. Register subprojects which will be part of the build process.
2. Add libraries to your build.

Gradle supports single and multi-project builds.

- For single-project builds, the settings file is optional.
- For multi-project builds, the settings file is mandatory and declares all subprojects.

[[sec:settings_script]]
== Settings script

The settings file is a script.
It is either a `settings.gradle` file written in Groovy or a `settings.gradle.kts` file written in Kotlin.

The link:{groovyDslPath}/index.html[Groovy DSL^] and the link:{kotlinDslPath}/index.html[Kotlin DSL^] are the only accepted languages for Gradle scripts.

The settings file is typically found in the root directory of the project.

Let's take a look at an example and break it down:

====
[.multi-language-sample]
=====
.settings.gradle.kts
[source,kotlin]
----
pluginManagement {                                          // <1>
    repositories {
        gradlePluginPortal()
        google()
    }
    includeBuild("../build-logic")
}

plugins {                                                   // <2>
    id("org.gradle.toolchains.plugin") version "0.6.0"
}

rootProject.name = "root-project"                           // <3>

dependencyResolutionManagement {                            // <4>
    repositories {
        mavenCentral()
    }
    includeBuild("../other-project")
}

include("sub-project-a")                                    // <5>
include("sub-project-b")
include("sub-project-c")
----
<1> Define plugin location.
<2> Define shared plugins.
<3> Define the project name.
<4> Define dependency location and components.
<5> Define subprojects.
=====

[.multi-language-sample]
=====
.settings.gradle
[source,groovy]
----
pluginManagement {                                          // <1>
    repositories {
        gradlePluginPortal()
        google()
    }
    includeBuild('../build-logic')
}

plugins {                                                   // <2>
    id 'org.gradle.toolchains.plugin' version '0.6.0'
}

rootProject.name = 'root-project'                           // <3>

dependencyResolutionManagement {                            // <4>
    repositories {
        mavenCentral()
    }
    includeBuild('../other-project')
}

include('sub-project-a')                                    // <5>
include('sub-project-b')
include('sub-project-c')
----
<1> Define plugin location.
<2> Define shared plugins.
<3> Define the project name.
<4> Define dependency location and components.
<5> Define subprojects.
=====
====

=== 1. Define plugin location

Plugins extend Gradle's capabilities.

The settings file can optionally define the plugins your build uses, including binary repositories such as the Gradle Plugin Portal or other Gradle builds:

[source]
----
pluginManagement {
    repositories {
        gradlePluginPortal()
        google()
    }
    includeBuild("../my-build-logic")
}
----

=== 2. Define shared plugins

The settings file can optionally define the plugins which are used as shared configuration in the build:

[source]
----
plugins {
    id("org.gradle.toolchains.fake") version "0.6.0"
}
----

=== 3. Define the project name

The settings file defines your project name:

[source]
----
rootProject.name = "root-project"
----

There is only one root project per build.

=== 4. Define dependency location and components

The settings file can optionally define the locations of components your project relies on such as binary repositories like Maven Central and/or other Gradle builds:

[source]
----
dependencyResolutionManagement {
    repositories {
        mavenCentral()
        // google()
        // jcenter()
    }
    includeBuild("../other-project")
}
----

For example, if your source code depends on a Google library, you can add `google()` to the `repositories{}` block. Then Gradle will be able to download libraries from https://maven.google.com/, the Google Maven repository.

=== 5. Define subprojects

The settings file defines the structure of the project by including subprojects if there are any:

[source]
----
include("app")
include("business-logic")
include("data-model")
----

[.text-right]
**Next Step:** <<build_file_basics.adoc#build_file_basics,Learn about the Build scripts>> >>
