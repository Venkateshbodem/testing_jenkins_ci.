// Copyright (C) 2023 Gradle, Inc.
//
// Licensed under the Creative Commons Attribution-Noncommercial-ShareAlike 4.0 International License.;
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      https://creativecommons.org/licenses/by-nc-sa/4.0/
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

[[command_line_interface]]
= Command-Line Interface Basics

The command-line interface is the **primary method of interacting with Gradle**.

image::gradle-basic-2.png[]

Use of the <<gradle_wrapper.adoc#gradle_wrapper, Gradle Wrapper>> is highly encouraged.

Substitute `./gradlew` (in macOS / Linux) or `gradlew.bat` (in Windows) for `gradle` in the following examples.

Executing Gradle on the command line conforms to the following structure:

----
gradle [taskName...] [--option-name...]
----

Options are allowed _before_ and _after_ task names.

----
gradle [--option-name...] [taskName...]
----

If multiple tasks are specified, you should separate them with a space.

----
gradle [taskName1 taskName2...] [--option-name...]
----

Options that accept values can be specified with or without `=` between the option and argument. The use of `=` is recommended.

----
gradle [...] --console=plain
----

Options that enable behavior have long-form options with inverses specified with `--no-`. The following are opposites.

----
gradle [...] --build-cache
gradle [...] --no-build-cache
----

Many long-form options have short-option equivalents. The following are equivalent:

----
gradle --help
gradle -h
----

== Command-line usage

The following sections describe the use of the Gradle command-line interface.
Some plugins also add their own command line options.

[[sec:command_line_executing_tasks]]
=== Executing tasks
To execute a task called `myTask` on the root project, type:

----
$ gradle :myTask
----

This will run the single `myTask` and all of its <<writing_tasks.adoc#sec:task_dependencies,dependencies>>.

[[sec:disambiguate_task_options_from_built_in_options]]
=== Specify options for tasks
To pass an option to a task, prefix the option name with `--` after the task name:

----
$ gradle exampleTask --exampleOption=exampleValue
----

==== Disambiguate task options from built-in options
Gradle does not prevent tasks from registering options that conflict with Gradle's built-in options, like `--profile` or `--help`.

You can fix conflicting task options from Gradle's built-in options with a `--` delimiter before the task name in the command:

----
$ gradle [--built-in-option-name...] -- [taskName...] [--task-option-name...]
----

Consider a task named `mytask` that accepts an option named `profile`:

- In `gradle mytask --profile`, Gradle accepts `--profile` as the built-in Gradle option.

- In `gradle \-- mytask --profile=value`, Gradle passes `--profile` as a task option.

[[executing_tasks_in_multi_project_builds]]
=== Executing tasks in multi-project builds
In a <<intro_multi_project_builds.adoc#intro_multi_project_builds, multi-project build>>, subproject tasks can be executed with `:` separating the subproject name and task name.

The following are equivalent when _run from the root project_:

----
$ gradle :subproject:taskName
----

----
$ gradle subproject:taskName
----

You can also run a task for _all_ subprojects using a task _selector_ that consists of only the task name.

The following command runs the `test` task for all subprojects when invoked from the _root project directory_:

----
$ gradle test
----

[NOTE]
====
Some task selectors, like `help` or `dependencies`, will only run the task on the project they are invoked on and not all the subprojects.
====

When invoking Gradle from within a subproject, the project name should be omitted:

----
$ cd subproject
----
----
$ gradle taskName
----

[TIP]
====
When executing the Gradle Wrapper from a subproject directory, reference `gradlew` relatively. For example: `../gradlew taskName`.
====

[[sec:excluding_tasks_from_the_command_line]]
[[sec:rerun_tasks]]
[[sec:continue_build_on_failure]]
[[sec:name_abbreviation]]
[[sec:command_line_project_reporting]]
[[sec:listing_tasks]]
[[sec:show_task_details]]
[[sec:listing_project_dependencies]]
[[sec:listing_properties]]
[[sec:command_line_completion]]
[[sec:command_line_debugging]]
[[sec:command_line_performance]]
[[sec:command_line_logging]]
[[sec:command_line_customizing_log_format]]
[[sec:command_line_warnings]]
[[sec:rich_console]]
[[sec:command_line_execution_options]]
[[sec:dependency_verification_options]]
[[sec:environment_options]]
[[sec:task_options]]
[[sec:builtin_task_options]]
[[sec:command_line_bootstrapping_projects]]
[[sec:continuous_build]]
[[continuous_build_limitations]]
[[sec:continuous_build_missing_files]]
[[sec:continuous_build_untracked]]
[[sec:continuous_build_project_dir]]
[[sec:build_cycles]]
[[sec:changes_to_symbolic_links]]
[[sec:changes_to_build_logic_are_not_considered]]
